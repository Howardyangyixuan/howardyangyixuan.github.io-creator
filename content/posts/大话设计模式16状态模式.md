---
title: "大话设计模式16：状态模式"
date: 2020-08-25T16:56:21+08:00
draft: false
tags: ["设计模式", "面向对象"]
categories: ["大话设计模式笔记"]
---

# 大话设计模式：16.状态模式

> 状态模式：当一个对象的内在状态改变时，允许改变其行为，这个对象看起来像是改变了其类

> TL;DR：当控制一个对象状态转换的条件表达式过于复杂时，把状态的判断逻辑，转移到表示不同状态的一系列类当中，可以把复杂的判断逻辑简化

![状态模式结构图](/images/状态模式.jpg)

## 1.优点

1. 避免出现 Long Method，分解代码责任，将与特定状态相关的行为局部化，并且将不同状态的行为分割开来
2. 易于增加新的状态和转换，因为特定的状态相关的行为都放在一个对象中，所有与状态相关的代码都存在于一个 ConcreteState 中，定义新的子类即可增加新的状态

## 2.实现细节

Context 中保存一个 State，在 ConcreteState 中，一旦状态不再符合当前 State，就更改 Context 的 State 并重新运行方法

## 3.使用场景

当一个对象的行为取决于它的状态，并且它必须在运行时刻根据状态改变它的行为时，可以考虑使用状态模式
