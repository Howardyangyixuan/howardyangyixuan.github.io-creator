---
title: "大话设计模式22：合成/聚合复用原则 & 桥接模式"
date: 2020-08-28T10:51:13+08:00
draft: false
tags: ["设计模式", "面向对象", "设计原则"]
categories: ["大话设计模式笔记"]
---

# 大话设计模式：22.合成/聚合复用原则 & 桥接模式

> 合成/聚合复用原则（CARP）：尽量使用合成/聚合，尽量不要使用类继承（因为继承是一种强耦合的结构）

## 1. 组合（合成） vs 聚合

1. 组合：强的拥有关系，体现严格的整体与部分的关系，部分和整体的生命周期一样，大雁和翅膀
2. 聚合：弱的拥有关系，体现的 A 对象可以包含 B 对象，但 B 对象不是 A 对象的一部分，雁群和大雁

## 2. 优点

1. 保持每个类被封装，并被集中在单个任务上，这样类和类继承的层次会保持较小的规模

> 桥接模式：将抽象部分与它的实现部分分离，使它们都可以独立的变化

> TL;DR：实现系统可能有多种角度分类，每一种分类都有可能变化，把多角度分离出来，让它们独立变化，减少它们之间的耦合

![桥接模式结构图](/images/桥接模式.png)

## 1.优点

1. 即组合/聚合复用原则的优点，解耦，使得代码满足开放-封闭原则

## 2.实现细节

1. Abstraction：抽象，抽象类，含有若干实现，通过组合/聚合的方式，解耦
2. RefinedAbstraction：被提炼的抽象，具体使用某一实现
3. Implementor：实现，抽象类，定义 Implementor 的方法的接口
4. ConcreteImplementor：具体实现，具体实现 Implementor 的方法

## 3.使用场景

1. 实现系统可能有多种角度分类，每一种分类都有可能变化，把多角度分离出来，让它们独立变化，减少它们之间的耦合
